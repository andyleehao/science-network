[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
dns-server = 119.29.29.29, 114.114.114.114, 223.5.5.5, system
fallback-dns-server = system
ipv6 = false
prefer-ipv6 = false
dns-fallback-system = false
dns-direct-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = false

[Proxy Group]

Strategy = select, ALL, Taiwan, UK, Japan, Hong Kong, Singapore, US, Korea, Germany, Canada, interval=600, timeout=5, select=0, url=http://www.gstatic.com/generate_204
ALL = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=.*
AI = select, SINGAPORE, US, JP, GERMANY, CANADA, policy-select-name=SINGAPORE, select=0
Telegram = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
YouTube = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Netflix = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Disney = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Spotify = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Twitter = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Paypal = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Facebook = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Reddit = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Discord = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Bilibili = select, Direct, Hong Kong, Taiwan, select=0
Foreign Media = select, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Domestic Media = select, Direct, Hong Kong, US, Singapore, Japan, Taiwan, UK, select=0
Weibo = select, Direct, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Microsoft = select, Direct, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Apple = select, Direct, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0
Gaming = select, Direct, Strategy, Hong Kong, US, Singapore, Japan, Taiwan, UK, Korea, select=0

# Below are country/region filters. Modify regex according to your proxy provider's node names

Hong Kong = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=.*(港|HK|(?i)Hong))
Taiwan = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=.*(台|TW|(?i)Taiwan))
US = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=.*(美国|美國|US|洛杉矶|西雅图|(?i)States|American))
Korea = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=.*(KR|Korea|KOR|首尔|韩|韓|(?i)Korea))
UK = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=.*(英国|UK|英格兰|伦敦|London))
Japan = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=.*(日本|JP|(?i)Japan))
Singapore = url-test, policy-select-name=SG-1, interval=600, tolerance=100, url=http://www.gstatic.com/generate_204, timeout=5, policy-regex-filter=(?=.*(新加坡|狮城|SG|(?i)Singapore))
Germany = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=*(德国|DEU|DE|柏林|慕尼黑|汉堡|科隆|Germany))
Canada = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, policy-regex-filter=(?=*(加拿大|CA|渥太华))
Direct = select, DIRECT

[Rule]
RULE-SET, https://raw.githubusercontent.com/andyleehao/science-network/refs/heads/main/Shadowrocket/rules/Claude.list, SINGAPORE
RULE-SET, https://raw.githubusercontent.com/andyleehao/science-network/refs/heads/main/Shadowrocket/rules/Gemini.list, US
RULE-SET, https://raw.githubusercontent.com/andyleehao/science-network/refs/heads/main/Shadowrocket/rules/OpenAI.list, SINGAPORE
RULE-SET, https://raw.githubusercontent.com/andyleehao/science-network/refs/heads/main/Shadowrocket/rules/Google.list, SINGAPORE
RULE-SET, https://raw.githubusercontent.com/andyleehao/science-network/refs/heads/main/Shadowrocket/rules/Crypto.list, SINGAPORE

RULE-SET, https://whatshub.top/rule/Microsoft.list,MICROSOFT
RULE-SET, https://whatshub.top/rule/Apple.list,APPLE
RULE-SET, https://whatshub.top/rule/AppStore.list,APPLE
RULE-SET, https://whatshub.top/rule/AppleProxy.list,STRATEGY
RULE-SET, https://whatshub.top/rule/Telegram.list,TELEGRAM
RULE-SET, https://whatshub.top/rule/Weibo.list,WEIBO
RULE-SET, https://whatshub.top/rule/WeChat.list,DIRECT
RULE-SET, https://whatshub.top/rule/Twitter.list,TWITTER
RULE-SET, https://whatshub.top/rule/PlayStation.list,GAMING
RULE-SET, https://whatshub.top/rule/Epic.list,GAMING
RULE-SET, https://whatshub.top/rule/Sony.list,GAMING
RULE-SET, https://whatshub.top/rule/Steam.list,GAMING
DOMAIN-KEYWORD, ubisoft, GAMING
DOMAIN-KEYWORD, steam, GAMING
RULE-SET, https://whatshub.top/rule/Nintendo.list,GAMING
RULE-SET, https://whatshub.top/rule/WanMeiShiJie.list,GAMING
RULE-SET, https://whatshub.top/rule/Blizzard.list,GAMING
RULE-SET, https://whatshub.top/rule/Spotify.list,SPOTIFY
RULE-SET, https://whatshub.top/rule/PayPal.list,PAYPAL
RULE-SET, https://whatshub.top/rule/Facebook.list,FACEBOOK
RULE-SET, https://whatshub.top/rule/Reddit.list,REDDIT
RULE-SET, https://whatshub.top/rule/Discord.list,DISCORD
RULE-SET, https://whatshub.top/rule/YouTube.list,YOUTUBE
RULE-SET, https://whatshub.top/rule/YouTubeMusic.list,YOUTUBE
RULE-SET, https://whatshub.top/rule/Netflix.list,NETFLIX
RULE-SET, https://whatshub.top/rule/Disney.list,DISNEY
RULE-SET, https://whatshub.top/rule/BiliBili.list,BILIBILI
RULE-SET, https://whatshub.top/rule/ChinaMedia.list,DOMESTIC MEDIA
RULE-SET, https://whatshub.top/rule/ProxyMedia.list,FOREIGN MEDIA
RULE-SET, https://whatshub.top/rule/Twitch.list,STRATEGY
RULE-SET, https://whatshub.top/rule/Douyu.list,DIRECT
RULE-SET, https://whatshub.top/rule/Google.list,STRATEGY
RULE-SET, https://whatshub.top/rule/Proxy.list,STRATEGY
DOMAIN-SET, https://whatshub.top/rule/Proxy.list,STRATEGY
RULE-SET, https://whatshub.top/rule/ASN-CN.list,DIRECT
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMedia/ChinaMedia.list, Domestic Media
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMaxNoMedia/ChinaMaxNoMedia.list, Domestic Media
DOMAIN-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMaxNoMedia/ChinaMaxNoMedia_Domain.list, Domestic Media
GEOIP, CN, Direct
FINAL, Strategy

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302
